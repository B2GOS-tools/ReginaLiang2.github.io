(window.webpackJsonp=window.webpackJsonp||[]).push([[285],{360:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return o})),r.d(t,"metadata",(function(){return s})),r.d(t,"rightToc",(function(){return c})),r.d(t,"default",(function(){return d}));var a=r(3),n=r(8),i=(r(0),r(396)),o={id:"navigator-getUserMediaDevices",title:"navigator.mediaDevices.getUserMedia"},s={unversionedId:"09.migration-from-2.5/next-new-apis/navigator/getUserMediaDevices/navigator-getUserMediaDevices",id:"version-sfp-3.0/09.migration-from-2.5/next-new-apis/navigator/getUserMediaDevices/navigator-getUserMediaDevices",isDocsHomePage:!1,title:"navigator.mediaDevices.getUserMedia",description:"Description",source:"@site/versioned_docs/version-sfp-3.0/09.migration-from-2.5/next-new-apis/navigator/getUserMediaDevices/readme.md",slug:"/09.migration-from-2.5/next-new-apis/navigator/getUserMediaDevices/navigator-getUserMediaDevices",permalink:"/docs/sfp-3.0/09.migration-from-2.5/next-new-apis/navigator/getUserMediaDevices/navigator-getUserMediaDevices",version:"sfp-3.0"},c=[{value:"Description",id:"description",children:[]},{value:"Syntax",id:"syntax",children:[{value:"Parameters",id:"parameters",children:[]}]}],p={rightToc:c};function d(e){var t=e.components,r=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},p,r,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"description"},"Description"),Object(i.b)("p",null,"The ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices"}),"MediaDevices"),".getUserMedia() method prompts the user for permission to use a media input which produces a ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream"}),"MediaStream")," with tracks containing the requested types of media.\nThat stream can include, for example, a video track (produced by either a hardware or virtual video source such as a camera,\nvideo recording device, screen sharing service, and so forth), an audio track (similarly, produced by a physical or virtual audio source like a microphone, A/D converter, or the like),\nand possibly other track types."),Object(i.b)("p",null,"It returns a Promise that resolves to a ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream"}),"MediaStream")," object. If the user denies permission,\nor matching media is not available, then the promise is rejected with NotAllowedError or NotFoundError respectively."),Object(i.b)("p",null,"Generally, you will access the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices"}),"MediaDevices")," singleton object using ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices"}),"navigator.mediaDevices"),", like this:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"async function getMedia(constraints) {\n  let stream = null;\n\n  try {\n    stream = await navigator.mediaDevices.getUserMedia(constraints);\n    /* use the stream */\n  } catch(err) {\n    /* handle the error */\n  }\n}\n")),Object(i.b)("p",null,"Similarly, using the raw promises directly, the code looks like this:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"navigator.mediaDevices.getUserMedia(constraints)\n.then(function(stream) {\n  /* use the stream */\n})\n.catch(function(err) {\n  /* handle the error */\n});\n")),Object(i.b)("h2",{id:"syntax"},"Syntax"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"var promise = navigator.mediaDevices.getUserMedia(constraints);\n")),Object(i.b)("h3",{id:"parameters"},"Parameters"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"constraints")),Object(i.b)("p",null,"\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","A ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints"}),"MediaStreamConstraints")," object specifying the types of media to request, along with any requirements for each type."),Object(i.b)("p",null,"\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","The constraints parameter is a MediaStreamConstraints object with two members: video and audio, describing the media types requested.\nEither or both must be specified. If the browser cannot find all media tracks with the specified types that meet the constraints given,\nthen the returned promise is rejected with NotFoundError."))}d.isMDXComponent=!0},396:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return b}));var a=r(0),n=r.n(a);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=n.a.createContext({}),d=function(e){var t=n.a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},l=function(e){var t=d(e.components);return n.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},u=n.a.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),l=d(r),u=a,b=l["".concat(o,".").concat(u)]||l[u]||m[u]||i;return r?n.a.createElement(b,s(s({ref:t},p),{},{components:r})):n.a.createElement(b,s({ref:t},p))}));function b(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=r[p];return n.a.createElement.apply(null,o)}return n.a.createElement.apply(null,r)}u.displayName="MDXCreateElement"}}]);