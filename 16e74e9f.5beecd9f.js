(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{396:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return h}));var o=t(0),a=t.n(o);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=a.a.createContext({}),l=function(e){var n=a.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},b=function(e){var n=l(e.components);return a.a.createElement(c.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},u=a.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),b=l(t),u=o,h=b["".concat(i,".").concat(u)]||b[u]||d[u]||r;return t?a.a.createElement(h,s(s({ref:n},c),{},{components:t})):a.a.createElement(h,s({ref:n},c))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=u;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=t[c];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},93:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return s})),t.d(n,"rightToc",(function(){return p})),t.d(n,"default",(function(){return l}));var o=t(3),a=t(8),r=(t(0),t(396)),i={id:"pwa-to-hosted-app",title:"Transform PWA to hosted app"},s={unversionedId:"02.getting-started/04.build-your-first-hosted-app/pwa-to-hosted-app",id:"02.getting-started/04.build-your-first-hosted-app/pwa-to-hosted-app",isDocsHomePage:!1,title:"Transform PWA to hosted app",description:"What is PWA?",source:"@site/docs/02.getting-started/04.build-your-first-hosted-app/pwa-to-hosted-app.md",slug:"/02.getting-started/04.build-your-first-hosted-app/pwa-to-hosted-app",permalink:"/docs/02.getting-started/04.build-your-first-hosted-app/pwa-to-hosted-app",version:"current",sidebar:"docs",previous:{title:"First hosted App",permalink:"/docs/02.getting-started/04.build-your-first-hosted-app/your-first-hosted-app"},next:{title:"Softkeys",permalink:"/docs/03.core-developer-topics/softkeys"}},p=[{value:"What is PWA?",id:"what-is-pwa",children:[{value:"Progressive Web Apps Promote Mobile-First Approach",id:"progressive-web-apps-promote-mobile-first-approach",children:[]}]},{value:"4 Things Every Progressive Web App Must Have",id:"4-things-every-progressive-web-app-must-have",children:[{value:"HTTPS",id:"https",children:[]},{value:"Web App Manifest",id:"web-app-manifest",children:[]},{value:"Service Worker",id:"service-worker",children:[]},{value:"Responsive Design",id:"responsive-design",children:[]}]},{value:"Transform PWA to hosted app",id:"transform-pwa-to-hosted-app",children:[{value:"Add new manifest.webapp",id:"add-new-manifestwebapp",children:[]},{value:"Offline Support",id:"offline-support",children:[]},{value:"Responsive Design",id:"responsive-design-1",children:[]},{value:"Navigation",id:"navigation",children:[]}]},{value:"Install experience",id:"install-experience",children:[]}],c={rightToc:p};function l(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"what-is-pwa"},"What is PWA?"),Object(r.b)("p",null,"Put it simply, Progressive Web Apps are web applications that load in a web browser just like web pages or websites.\nIt gives you a rich mobile experience via native-like functionalities such as the ability to work offline, push notifications, and device hardware accessibility."),Object(r.b)("p",null,"It feels like a native app and offers the same experience as a native one.\nThere is no need to download it from an app store. It loads, runs, and functions in a web browser."),Object(r.b)("p",null,"For more information about PWA, You can see also"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps"}),"Progressive web apps")," on MDN"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://developers.google.com/web/progressive-web-apps"}),"Progressive web apps")," on Google Developers"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://developers.google.com/web/ilt/pwa/"}),"Progressive web apps details")," on Google Developers"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://developers.google.com/web/progressive-web-apps/checklist"}),"Progressive Web Apps Check List")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://developers.google.com/web/tools/lighthouse"}),"The Lighthouse Tool")," by Google")),Object(r.b)("h3",{id:"progressive-web-apps-promote-mobile-first-approach"},"Progressive Web Apps Promote Mobile-First Approach"),Object(r.b)("p",null,"According to one ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://www.statista.com/statistics/274774/forecast-of-mobile-phone-users-worldwide/"}),"Statista")," report,"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"The number of mobile phone users is forecasted to reach 4.68 billion by 2019."),Object(r.b)("p",{parentName:"blockquote"},"Going further, in 2016, an estimated 62.9 percent of the population worldwide already owned a mobile phone.\nThis will round up to 67 percent by 2019.")),Object(r.b)("h2",{id:"4-things-every-progressive-web-app-must-have"},"4 Things Every Progressive Web App Must Have"),Object(r.b)("p",null,"There are 4 things every progressive web apps must have."),Object(r.b)("p",null,"Lets's start listing each of them, then we'll go over them one after the other:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"HTTPS"),Object(r.b)("li",{parentName:"ul"},"Web app manifest"),Object(r.b)("li",{parentName:"ul"},"Service worker"),Object(r.b)("li",{parentName:"ul"},"Responsive design")),Object(r.b)("h3",{id:"https"},"HTTPS"),Object(r.b)("p",null,"A PWA must be safe and secure, hence the requirement to be served on HTTPS instead of HTTP.\nGone are the days when getting an SSL certificate for a website is expensive and tedious."),Object(r.b)("p",null,"Every modern website today should be running on HTTPS, you will be doing your app such a great good by serving it on HTTPS."),Object(r.b)("h3",{id:"web-app-manifest"},"Web App Manifest"),Object(r.b)("p",null,"The web app manifest is simply a JSON (manifest.json) file that is used to describe the application.\nThe web app manifest provides information about an application (such as name, icon, and description etc.).\nThe purpose of the manifest is to install web applications to the home screen of a device, providing users with quicker access and a richer experience such as theme,\nsplash screen and the ability to run the app in full-screen mode and as a standalone application."),Object(r.b)("p",null,"A typical web app manifest can be as below:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "Weather",\n  "short_name": "Weather",\n  "icons": [{\n    "src": "/images/icons/icon-128x128.png",\n    "sizes": "128x128",\n    "type": "image/png"\n  }, {\n    "src": "/images/icons/icon-144x144.png",\n    "sizes": "144x144",\n    "type": "image/png"\n  }, {\n    "src": "/images/icons/icon-152x152.png",\n    "sizes": "152x152",\n    "type": "image/png"\n  }, {\n    "src": "/images/icons/icon-192x192.png",\n    "sizes": "192x192",\n    "type": "image/png"\n  }, {\n    "src": "/images/icons/icon-256x256.png",\n    "sizes": "256x256",\n    "type": "image/png"\n  }, {\n    "src": "/images/icons/icon-512x512.png",\n    "sizes": "512x512",\n    "type": "image/png"\n  }],\n  "start_url": "/index.html",\n  "display": "standalone",\n  "background_color": "#3E4EB8",\n  "theme_color": "#2F3BA2"\n}\n')),Object(r.b)("h3",{id:"service-worker"},"Service Worker"),Object(r.b)("p",null,"A service worker is vital to allow a PWA. So what is a service worker? A service worker is a script that runs in the background making the decision to serve network or cached content based on availability.\nService worker provides offline support for applications through caching, which is essential for a PWA. In addition to the offline functionality,\na service work also provides support for other features such as push notifications, and background sync."),Object(r.b)("p",null,"It is important to mention that service workers can only be registered on pages served over HTTPS. Though it can be registered on localhost while in development,\nas soon as you deploy to a live server, it will require HTTPS and not HTTP."),Object(r.b)("h3",{id:"responsive-design"},"Responsive Design"),Object(r.b)("p",null,"Since a PWA can be somewhat installed on a device (mobile phone or tablet etc.), it should be responsive enough so as to display properly irrespective of the devices it is being viewed on.\nWith the numerous CSS frameworks out there that support responsive design, making your app responsive on major screen sizes should be easy."),Object(r.b)("h2",{id:"transform-pwa-to-hosted-app"},"Transform PWA to hosted app"),Object(r.b)("p",null,"If you already have a PWA web app and want to publish it to hosted app under KaiOS\uff0cWe will provide some instruction to help you transform PWA to KaiOS hosted app and submit to KaiStore.\nWe assume you already be familiar with PWA.The under instruction only list some points you need focus on,Please refer above link about the details of PWA."),Object(r.b)("h3",{id:"add-new-manifestwebapp"},"Add new manifest.webapp"),Object(r.b)("p",null,"Your PWA app manifest.json file may be looks like below:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "Weather",\n  "short_name": "Weather",\n  "icons": [{\n    "src": "/images/icons/icon-56x56.png",\n    "sizes": "56x56",\n    "type": "image/png"\n  }, {\n    "src": "/images/icons/icon-112x112.png",\n    "sizes": "112x112",\n    "type": "image/png"\n  }, {\n    "src": "/images/icons/icon-224x224.png",\n    "sizes": "224x224",\n    "type": "image/png"\n  }],\n  "start_url": "/index.html",\n  "display": "standalone",\n  "background_color": "#3E4EB8",\n  "theme_color": "#2F3BA2"\n}\n')),Object(r.b)("p",null,"First we need add a new file manifest-hosted.app(any meaningful name will be accepted) and let this new manifest file be served through\nyour server."),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'{\n  "version": "1.0.0",\n  "name": "KaiOS Hosted Weather APP",\n  "description": "A sample hosted APP which transported for PWA",\n  "type": "web",\n  "launch_path": "/index.html",\n  "icons": {\n    "56": "/images/icons/icon-56x56.png",\n    "112": "/images/icons/icon-112x112.png",\n    "224": "/images/icons/icon-224x224.png"\n  },\n  "developer": {\n    "name": "KaiOS",\n    "url": "http://www.kaiostech.com"\n  },\n  "permissions": {\n    "serviceworker":{}\n  },\n  "cursor": "true",\n  "locales": {\n    "en-US": {\n      "name": "KaiOS App",\n      "subtitle": "Short description for the user",\n      "description": "Brief description of your app"\n    }\n  },\n  "default_locale": "en-US"\n}\n')),Object(r.b)("p",null,"Certainly you can just add a REST API and return json like below:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),'const hostedManifest = {\n    "version": "1.0.0",\n    "name": "KaiOS Hosted Weather APP",\n    "description": "A sample hosted APP which transported for PWA",\n    "type": "web",\n    "launch_path": "/index.html",\n    "icons": {\n      "56": "/images/icons/icon-56x56.png",\n      "112": "/images/icons/icon-112x112.png",\n      "224": "/images/icons/icon-224x224.png"\n    },\n    "developer": {\n      "name": "KaiOS",\n      "url": "http://www.kaiostech.com"\n    },\n    "permissions": {\n      "serviceworker":{}\n    },\n    "locales": {\n      "en-US": {\n        "name": "KaiOS App",\n        "subtitle": "Short description for the user",\n        "description": "Brief description of your app"\n      }\n    },\n    "default_locale": "en-US",\n    "cursor": true,\n  };\n\nfunction getHostedManifest(req, resp) {\n  resp.json(hostedManifest);\n}\n\napp.get(\'/hosted-manifest\', getHostedManifest);\n\n')),Object(r.b)("p",null,"You can reference the details of this manifest file ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/getting-started/main-concepts/manifest"}),"here"),".We will provide helper tool for you to transform PWA\nmanifest.json file to hosted app manifest.webapp soon.The most important is you must specify ServiceWorker permission like blow or you can not use ServiceWorker in this hosted app."),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'"permissions": {\n  "serviceworker":{}\n}\n')),Object(r.b)("h3",{id:"offline-support"},"Offline Support"),Object(r.b)("p",null,"The traditional offline of KaiOS app use ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache"}),"appCache"),"\n,For sure you can continue use this technology,In addition you can use Service Worker to implement like ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://codelabs.developers.google.com/codelabs/your-first-pwapp/#5"}),"ServiceWorker Offline experience"),"."),Object(r.b)("h3",{id:"responsive-design-1"},"Responsive Design"),Object(r.b)("p",null,"Current KaiOS devices support QVGA resolutions in portrait (240x320 pixels) or landscape (320x240 pixels).\nIf you want adapter your hosted app to KaiOS app, You should process your responsive design for small screen.\nYou can refer more details about responsive design through ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://developers.google.com/web/ilt/pwa/responsive-design-slides"}),"Responsive Design")," on Google Developer."),Object(r.b)("h3",{id:"navigation"},"Navigation"),Object(r.b)("p",null,'Fow now,You can add "cursor: true" to manifest.webapp file for the navigation purpose(',Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/core-developer-topics/emulated-cursor"}),"Emulated Cursor"),"),\nCertainly you can use D-pad for navigation(",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/core-developer-topics/dpad-navigation"}),"D-pad navigation"),")."),Object(r.b)("h2",{id:"install-experience"},"Install experience"),Object(r.b)("p",null,"When a Progressive Web App is installed, it looks and behaves like all of the other installed apps.\nIt launches from the same place as other apps launch. It runs in an app without an address bar or other browser UI.\nAnd like all other installed apps, it's a top level app in the task switcher.When you port your PWA to KaiOS hosted app,\nCurrently you can only install your web app via submit to our KaiStore ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/submit-to-kaistore"}),"Submit To KaiStore"),".\nCertainly you can test through WebIDE ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/getting-started/build-your-first-hosted-app/your-first-hosted-app"}),"install hosted app"),"."))}l.isMDXComponent=!0}}]);