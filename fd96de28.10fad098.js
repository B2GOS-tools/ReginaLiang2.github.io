(window.webpackJsonp=window.webpackJsonp||[]).push([[313],{388:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return p}));var a=n(3),r=n(8),i=(n(0),n(396)),o={id:"permission-table-audiochannel",title:"Audio Channels API"},l={unversionedId:"09.migration-from-2.5/next-new-apis/permissionAPIs/AudioChannels/permission-table-audiochannel",id:"version-sfp-3.0/09.migration-from-2.5/next-new-apis/permissionAPIs/AudioChannels/permission-table-audiochannel",isDocsHomePage:!1,title:"Audio Channels API",description:"Description",source:"@site/versioned_docs/version-sfp-3.0/09.migration-from-2.5/next-new-apis/permissionAPIs/AudioChannels/readme.md",slug:"/09.migration-from-2.5/next-new-apis/permissionAPIs/AudioChannels/permission-table-audiochannel",permalink:"/docs/sfp-3.0/09.migration-from-2.5/next-new-apis/permissionAPIs/AudioChannels/permission-table-audiochannel",version:"sfp-3.0"},c=[{value:"Description",id:"description",children:[]},{value:"Concepts and usage",id:"concepts-and-usage",children:[]},{value:"AudioChannels interfaces",id:"audiochannels-interfaces",children:[]}],b={rightToc:c};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"description"},"Description"),Object(i.b)("p",null,"The ",Object(i.b)("strong",{parentName:"p"},"Audio Channels API")," allowing you to place your app audio content into a hierarchy of importance,\nwhich dictates when the audio will be paused and resumed in response to other audio playing\nand actions occurring and allows you to control the volume of different types of audio independently from one another."),Object(i.b)("p",null,"Use case examples:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You want your audio player app to continue playing audio even when it is running in the background so you can do other things as it plays,\nbut you want it to pause when someone rings your phone.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"When you mute your phone you don't want to also mute your wake up alarm for the next morning."))),Object(i.b)("hr",null),Object(i.b)("h2",{id:"concepts-and-usage"},"Concepts and usage"),Object(i.b)("p",null,"The AudioChannels API extends the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#"}),"HTMLMediaElement")," and ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#"}),"AudioContext")," interfaces with (among other things) a mozAudioChannelType property that can be set to the channel you want your audio to be played in.\nThe ",Object(i.b)("inlineCode",{parentName:"p"},"<audio>")," and ",Object(i.b)("inlineCode",{parentName:"p"},"<video>")," elements can also be used to set this value via the mozaudiochannel attribute.\nWhen your audio is placed into a channel, it is generally paused (or interrupted) by audio in a higher priority channel being played.\nAudio in the least important channel \u2014 normal \u2014 is also paused by its app being put into the background (this is not the case with the other channels).\nThe audio channels are as follows:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Channel name"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"importance"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Used for"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"App permission level"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"normal"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"UI sounds, app and web content"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"PWA")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"content"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Music, radio, video"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"PWA")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"notification"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"3"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"New email, incoming SMS"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Signed")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"alarm"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"4"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Alarm clock, calendar alarms"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Signed")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"ringer"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"5"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Incoming phone calls"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Core")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"telephony"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"6"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Ongoing phone calls, VOIP calls"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Core")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"publicnotification"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"7"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Forced camera shutter sounds"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Core")))),Object(i.b)("p",null,"Each channel has a separate mute and volume setting, to provide more granular control over the different parts of audio on your device.\nThese are accessed using the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../../apis/b2g/audioChannelManager/navigator-b2g-audioChannelManager"}),"audioChannelManager")," object via the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../../apis/b2g/audioChannelManager/navigator-b2g-audioChannelManager"}),"navigator.b2g.audioChannelManager")," property."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},'Note: If you have two apps playing audio in the content channel, only the one in the foreground can play audio,\nwhile the other is interrupted. When the foreground app is put into the background with audio playing,\nit will not be muted, as per normal "content" behaviour.')),Object(i.b)("hr",null),Object(i.b)("h2",{id:"audiochannels-interfaces"},"AudioChannels interfaces"),Object(i.b)("p",null,Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../../apis/b2g/audioChannelManager/navigator-b2g-audioChannelManager"}),"AudioChannelManager")),Object(i.b)("p",null,"Includes some features for managing your device's audio channels,\nincluding setting what channel's volume to affect when the volume buttons are pressed inside a particular app."),Object(i.b)("p",null,Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../../apis/others/HTMLMediaElement/other-HTMLMediaElement"}),"HTMLMediaElement")," and ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"../../../apis/others/AudioContext/other-AudioContext"}),"AudioContext")," extentions"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"HTMLMediaElement")," and ",Object(i.b)("inlineCode",{parentName:"p"},"AudioContext")," are extended with some proprietary features for controlling audio channels,\nincluding setting what audio channel the media is in, and events that fire when the audio is interrupted, and resumes playing."))}p.isMDXComponent=!0},396:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=r.a.createContext({}),p=function(e){var t=r.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},s=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),u=p(n),s=a,m=u["".concat(o,".").concat(s)]||u[s]||d[s]||i;return n?r.a.createElement(m,l(l({ref:t},b),{},{components:n})):r.a.createElement(m,l({ref:t},b))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=s;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var b=2;b<i;b++)o[b]=n[b];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}s.displayName="MDXCreateElement"}}]);